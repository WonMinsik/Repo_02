<!DOCTYPE html>
<html lang='ko'>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" charset="utf-8">
  <link rel="stylesheet" src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // url 에서 parameter 추출
    function getParam(sname) {
        var params = location.search.substr(location.search.indexOf('?') + 1);
        var sval = '';
        params = params.split('&');
        for (var i = 0; i < params.length; i++) {
            temp = params[i].split('=');
            if ([temp[0]] == sname) { sval = temp[1]; }
        }
        return sval;
    }
    function onPlayTTS() {
      var text = document.getElementById('text_to_speech').value;
      var host_ip = getParam('host');//'223.171.67.106';//getParam('host')
      const url_enc = encodeURI(text);
      $('#tts_frame').attr('src', '/vnrequest/command/?host='+host_ip+'&cmd=71&value='+url_enc);
    }
  </script>

</head>
<body>
    <div class="container">
        <div class="form-group d-lg-flex">
          <label for="text_to_speech">텍스트</label>
          <input type="text" class="form-control" id="text_to_speech" placeholder="전달할 텍스트를 입력하세요.">
        </div>
        <div class="form-group d-lg-flex">
          <label for="tts_type">선택</label>
          <select class="form-control" id="tts_type">
            <option>사용자 지정 텍스트</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
        </div>
        <button class="btn btn-primary" onclick="onPlayTTS()">Submit</button>
    </div>
    <iframe id='tts_frame' frameBorder="0"></iframe>

</body>
</html>
